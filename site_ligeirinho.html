<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ligeirinho - Palmito</title>
  <style>
    :root{--green:#2b8a3e;--accent:#ffd166;--bg:#fafafa;--card:#ffffff;--muted:#6b6b6b}
    *{box-sizing:border-box}
    body{font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; margin:0; background:linear-gradient(180deg,#fbfffb 0%,var(--bg) 100%); color:#222}
    header{background:var(--green); color:white; padding:28px 20px; text-align:center}
    header h1{margin:0;font-size:2rem;letter-spacing:1px}
    header p{margin:6px 0 0; font-weight:600}
    .container{max-width:980px;margin:28px auto;padding:0 16px}
    .grid{display:grid;grid-template-columns:1fr 320px;gap:20px}
    @media(max-width:820px){.grid{grid-template-columns:1fr} .sidebar{order:2}}
    .card{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 6px 18px rgba(13,20,13,0.06)}
    .products{display:flex;flex-direction:column;gap:14px}
    .prod{display:flex;gap:14px;align-items:center}
    .prod .thumb{width:120px;height:80px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#fff);display:flex;align-items:center;justify-content:center;font-weight:700;color:#4b3b00}
    .prod h3{margin:0;font-size:1.05rem}
    .prod p{margin:6px 0;color:var(--muted)}
    .controls{margin-left:auto;text-align:right}
    .price{font-weight:700;color:var(--green);font-size:1.05rem}
    .btn{background:var(--green);color:white;border:none;padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:700}
    .btn.secondary{background:#eee;color:#222}
    .qty{display:inline-flex;align-items:center;gap:8px}
    .qty button{width:34px;height:34px;border-radius:8px;border:1px solid #ddd;background:white;cursor:pointer}
    .cart-summary{display:flex;flex-direction:column;gap:12px}
    .total{font-size:1.2rem;font-weight:800}
    footer{margin-top:28px;padding:16px 10px;text-align:center;color:var(--muted)}
    .phone{font-weight:700;color:var(--green)}
    .note{font-size:0.9rem;color:var(--muted)}
    a.link-whatsapp{display:inline-block;padding:10px 12px;border-radius:8px;background:#25d366;color:white;text-decoration:none;font-weight:700}
  </style>
</head>
<body>
  <header>
    <h1>Ligeirinho</h1>
    <p>Palmito fresco — direto pra sua mesa</p>
  </header>

  <main class="container">
    <div class="grid">
      <section class="card">
        <h2>Produtos</h2>
        <div class="products" id="products">
          <div class="prod" data-id="box">
            <div class="thumb">BOX</div>
            <div>
              <h3>1 Caixa (15 unidades)</h3>
              <p>Perfeita para revenda ou família grande</p>
              <div class="note">Preço: <span class="price" data-price="230">R$ 230,00</span></div>
            </div>
            <div class="controls">
              <div class="qty">
                <button onclick="changeQty('box', -1)">−</button>
                <div id="qty-box">1</div>
                <button onclick="changeQty('box', 1)">+</button>
              </div>
              <div style="margin-top:8px">
                <button class="btn" onclick="addToCart('box')">Adicionar</button>
              </div>
            </div>
          </div>

          <div class="prod" data-id="unit">
            <div class="thumb">UNI</div>
            <div>
              <h3>1 Unidade</h3>
              <p>Comprar avulso</p>
              <div class="note">Preço: <span class="price" data-price="15.5">R$ 15,50</span></div>
            </div>
            <div class="controls">
              <div class="qty">
                <button onclick="changeQty('unit', -1)">−</button>
                <div id="qty-unit">1</div>
                <button onclick="changeQty('unit', 1)">+</button>
              </div>
              <div style="margin-top:8px">
                <button class="btn" onclick="addToCart('unit')">Adicionar</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <aside class="card sidebar">
        <h2>Seu pedido</h2>
        <div class="cart-summary" id="cart">
          <div class="note">Nenhum item adicionado.</div>
        </div>
        <div style="margin-top:8px;display:flex;gap:8px">
          <button class="btn" onclick="checkoutWhatsApp()">Comprar via WhatsApp</button>
          <button class="btn secondary" onclick="clearCart()">Limpar</button>
        </div>
        <p style="margin-top:12px;font-size:0.9rem;color:var(--muted)">Entrega e pagamento combinados via WhatsApp.</p>
      </aside>
    </div>

    <footer>
      <p class="note">Para pedidos rápidos ligue/whatsapp:</p>
      <p class="phone">+55 18 9 9704-3604</p>
    </footer>
  </main>

  <script>
    // Dados iniciais
    const PRODUCTS = {
      box: {id:'box', name:'Caixa (15 unidades)', price:230.00, qty:1},
      unit: {id:'unit', name:'Unidade', price:15.50, qty:1}
    }
    const PHONE = '5518997043604' // número para WhatsApp (sem sinais)

    // Estado do carrinho
    let cart = {}

    function changeQty(id, delta){
      const el = document.getElementById('qty-'+id)
      let n = parseInt(el.textContent)
      n = Math.max(1, n + delta)
      el.textContent = n
      PRODUCTS[id].qty = n
    }

    function addToCart(id){
      const p = PRODUCTS[id]
      if(!cart[id]) cart[id] = {...p}
      else cart[id].qty += p.qty
      showCart()
      toast('Item adicionado: ' + p.name + ' × ' + p.qty)
    }

    function showCart(){
      const container = document.getElementById('cart')
      container.innerHTML = ''
      const keys = Object.keys(cart)
      if(keys.length === 0){
        container.innerHTML = '<div class="note">Nenhum item adicionado.</div>'
        return
      }
      let total = 0
      keys.forEach(k =>{
        const it = cart[k]
        const sub = it.price * it.qty
        total += sub
        const row = document.createElement('div')
        row.style.display='flex'
        row.style.justifyContent='space-between'
        row.style.alignItems='center'
        row.style.gap='10px'
        row.innerHTML = `<div><strong>${it.name}</strong><div class="note">${it.qty} × R$ ${formatBRL(it.price)}</div></div><div style="text-align:right"><div>R$ ${formatBRL(sub)}</div><div style="margin-top:6px"><button class="btn secondary" onclick="removeOne('`+k+`')">−1</button></div></div>`
        container.appendChild(row)
      })
      const tot = document.createElement('div')
      tot.className='total'
      tot.style.marginTop='8px'
      tot.textContent = 'Total: R$ ' + formatBRL(total)
      container.appendChild(tot)
    }

    function removeOne(id){
      if(!cart[id]) return
      cart[id].qty -= 1
      if(cart[id].qty <= 0) delete cart[id]
      showCart()
    }

    function clearCart(){ cart = {}; showCart(); }

    function formatBRL(v){ return new Intl.NumberFormat('pt-BR',{minimumFractionDigits:2,maximumFractionDigits:2}).format(v);
    }

    function checkoutWhatsApp(){
      const keys = Object.keys(cart)
      if(keys.length === 0){ alert('Adicione pelo menos um item ao pedido.'); return }
      let msg = 'Olá, gostaria de fazer o pedido:%0A'
      let total = 0
      keys.forEach(k=>{
        const it = cart[k]
        msg += `- ${it.name} — quantidade: ${it.qty} — valor unit: R$ ${formatBRL(it.price)}%0A`
        total += it.qty * it.price
      })
      msg += `%0ATotal: R$ ${formatBRL(total)}%0A%0ANome e endereço:`
      const url = `https://wa.me/${PHONE}?text=${msg}`
      window.open(url, '_blank')
    }

    function toast(text){
      // simples notificação temporária
      const t = document.createElement('div')
      t.textContent = text
      t.style.position='fixed'
      t.style.right='18px'
      t.style.bottom='18px'
      t.style.background='rgba(0,0,0,0.75)'
      t.style.color='white'
      t.style.padding='10px 14px'
      t.style.borderRadius='10px'
      t.style.zIndex=9999
      document.body.appendChild(t)
      setTimeout(()=> t.remove(),1800)
    }

    // Inicializar
    showCart()
  </script>
</body>
</html>
